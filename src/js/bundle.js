!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends HTMLElement{constructor(){super(),this._mask="+X(XXX)XXX-XX-XX",this._correctNumber="+X(XXX)XXX-XX-XX",this._inputsMaskArr=[],this._inputsPrevValues=[],console.log("constructor"),this._template='\n            <style>\n                .phone-module {\n                    display: flex;\n                    flex-wrap: wrap;\n\n                    width: 370px;\n                    height: 50px;\n\n                    font-family: Arial, Helvetica, sans-serif;\n                    color: #333333;\n                    font-size: 20px;\n\n                    justify-content: space-around;\n                }\n\n                .phone-module__number-section {\n                    display: flex;\n                    flex-wrap: wrap;\n\n                    width: 100%;\n                    height: 35px;\n\n                    justify-content: space-around;\n                }\n\n                .phone-module__error-section {\n                    width: 100%;\n\n                    text-align: left;\n                    font-size: 14px;\n                    font-family: Arial, Helvetica, sans-serif;\n                    color: #ff1100;\n                }\n\n                .phone-module__number-section-symbol {\n                    text-align: center;\n                    line-height: 32px;\n\n                    width: 10px;\n                    height: 32px;\n\n                    border: none;\n                }\n\n                .phone-module__number-section-cell {\n                    width: 25px;\n                    height: 32px;\n\n                    text-align: center;\n                    line-height: 32px;\n\n                    background-color: #f0f0f0;\n\n                    margin: 2px;\n                    border-radius: 2px;\n                }\n\n                .phone-module__number-section-input,\n                .phone-module__number-section-input-error,\n                .phone-module__error-section-input-success {\n                    text-align: left;\n                    line-height: 32px;\n\n                    width: 17px;\n                    height: 28px;\n\n                    margin: 2px;\n                    padding-left: 6px;\n\n                    font-family: Arial, Helvetica, sans-serif;\n                    color: #333333;\n                    font-size: 20px;\n\n                    background-color: #ffffff;\n\n                    outline: none;\n\n                    border: 1px solid #f0f0f0;\n                    border-radius: 2px;\n\n                    transition: 0.1s linear;\n                }\n\n                .phone-module__number-section-input:hover {\n                    border-color: #c2c2c2;\n                }\n\n                .phone-module__number-section-input-error {\n                    border-color: #ff1100;\n                }\n\n                .phone-module__error-section-input-success {\n                    border-color: #00ff6a;\n                }\n\n                .phone-module__number-section-input:focus {\n                    border: 1px solid #858585;\n                    border-radius: 2px;\n\n                    transition: 0.1s linear;\n                }\n            </style>\n\n            <div class="phone-module">\n                <div class="phone-module__number-section"></div>\n                <div class="phone-module__error-section"></div>\n            </div>\n        ',this.attachShadow({mode:"open"}),this._width=0,this._inputsKol=0,this._inputsArr=[],this._mode="fetch",this._path="http://localhost:3000/api/fetch",this.shadowRoot&&(this.shadowRoot.innerHTML=this._template,this._mainDiv=this.shadowRoot.querySelector(".phone-module"),this._numberSection=this.shadowRoot.querySelector(".phone-module__number-section"),this._errorSection=this.shadowRoot.querySelector(".phone-module__error-section"))}performValidation(){this._errorSection.innerHTML="";let e=!1;if(this._errorSection){this._errorSection.textContent="";for(let t=0;t<this._inputsKol;t++)if(this.shadowRoot&&this._inputsArr[t]){if(""===this._inputsArr[t].value)return this._errorSection.textContent="Все поля должны быть заполены",void(this._inputsArr[t].className="phone-module__number-section-input-error");this._inputsArr[t].value!==this._correctNumber[this._inputsMaskArr[t]]&&(e=!0)}if(e){for(let e=0;e<this._inputsKol;e++)this.shadowRoot&&this._inputsArr[e]&&(this._inputsArr[e].className="phone-module__number-section-input-error");this._errorSection.textContent="Неверный номер, попробуйте еще раз"}else for(let e=0;e<this._inputsKol;e++)this.shadowRoot&&this._inputsArr[e]&&(this._inputsArr[e].className="phone-module__error-section-input-success")}}setCurrentState(e,t){if(e){if(this.shadowRoot&&this._errorSection){this._errorSection.innerText=t;for(let e=0;e<this._inputsKol;e++)this._inputsArr[e].className="phone-module__number-section-input-error"}}else if(this.shadowRoot&&this._errorSection){this._errorSection.innerText="";for(let e=0;e<this._inputsKol;e++)this._inputsArr[e].className="phone-module__error-section-input-success"}}fill(){if(this._numberSection.innerHTML="",this._width=0,this._numberSection){this._numberSection.innerHTML="",this._errorSection.innerHTML="";for(let e=0;e<this._mask.length;e++)switch(this._mask[e]){case"+":case"(":case")":case"-":{const t=document.createElement("div");t.className="phone-module__number-section-symbol",t.innerText=this._mask[e],this._numberSection.appendChild(t),this._width+=10;break}case"I":{const t=document.createElement("input");if(t.className="phone-module__number-section-input",t.id=String(this._inputsKol++),t.placeholder="_",this._inputsMaskArr.push(e),this._inputsPrevValues.push(""),this._numberSection.appendChild(t),this.shadowRoot){const e=this.shadowRoot.getElementById(String(this._inputsKol-1));this._inputsArr.push(e)}this._width+=29;break}case"*":{const e=document.createElement("div");e.className="phone-module__number-section-cell",e.innerText="•",e.style.fontSize="25px",this._numberSection.appendChild(e),this._width+=29;break}case"X":default:{const t=document.createElement("div");t.className="phone-module__number-section-cell",t.innerText=this._mask[e],this._numberSection.appendChild(t),this._width+=29;break}}}this._mainDiv.style.width=String(this._width+1)+"px"}inputListener(){new RegExp("^[0-9]+$");for(let e=0;e<this._inputsKol;e++)this._inputsArr[e]&&this._inputsArr[e].addEventListener("input",()=>{this._inputsArr[e].className="phone-module__number-section-input",this._inputsArr[e].value=this._inputsArr[e].value.replace(/[^+\d]/g,""),""!==this._inputsArr[e].value&&(this._inputsArr[e].value.length>1?(this._inputsArr[e].value.length>1&&(this._inputsArr[e].value[1]!==this._inputsPrevValues[e]?(this._inputsPrevValues[e]=this._inputsArr[e].value[1],this._inputsArr[e].value=this._inputsArr[e].value[1]):(this._inputsPrevValues[e]=this._inputsArr[e].value[0],this._inputsArr[e].value=this._inputsArr[e].value[0])),"phone-module__number-section-input-error"===this._inputsArr[e].className&&(this._inputsArr[e].className="phone-module__number-section-input")):this._inputsPrevValues[e]=this._inputsArr[e].value,Number(this._inputsArr[e].id)<this._inputsKol-1&&""!==this._inputsArr[e].value&&this.shadowRoot&&this._inputsArr[e+1].focus())})}enterListener(){this.shadowRoot&&document.addEventListener("keypress",e=>{13===e.keyCode&&this.performValidation()})}logic(){this.fill(),this.inputListener(),this.enterListener()}set setMask(e){this._mask=e.mask,this.logic()}set setCorrectMask(e){this._correctNumber=e.mask}get getAllComponentValues(){if(this._numberSection)for(let e=0;e<this._numberSection.children.length;e++)console.log(typeof this._numberSection.children[e]);return""}get getMask(){return this._mask}get getInputsKol(){return this._inputsKol}get getCurrentState(){return this._errorSection?this._errorSection.innerText:"none"}get getInputsValues(){let e="";if(this.shadowRoot)for(let t=0;t<this._inputsKol;t++)this._inputsArr[t]&&(e+=this._inputsArr[t].value);return e}}t.PhoneValidationComponent=i,customElements.define("phone-validation",i);const s=document.getElementById("7");if(s){const e={mask:"+7(985)0II-**-**"};s.setMask=e,s.getAllComponentValues}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUGhvbmVWYWxpZGF0aW9uQ29tcG9uZW50IiwiSFRNTEVsZW1lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJzdXBlciIsInRoaXMiLCJfbWFzayIsIl9jb3JyZWN0TnVtYmVyIiwiX2lucHV0c01hc2tBcnIiLCJfaW5wdXRzUHJldlZhbHVlcyIsImNvbnNvbGUiLCJsb2ciLCJfdGVtcGxhdGUiLCJhdHRhY2hTaGFkb3ciLCJfd2lkdGgiLCJfaW5wdXRzS29sIiwiX2lucHV0c0FyciIsIl9tb2RlIiwiX3BhdGgiLCJzaGFkb3dSb290IiwiaW5uZXJIVE1MIiwiX21haW5EaXYiLCJxdWVyeVNlbGVjdG9yIiwiX251bWJlclNlY3Rpb24iLCJfZXJyb3JTZWN0aW9uIiwiZXJyQ2hlY2siLCJ0ZXh0Q29udGVudCIsImNsYXNzTmFtZSIsImVycm9yIiwibWVzc2FnZSIsImlubmVyVGV4dCIsImxlbmd0aCIsImNlbGwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImlkIiwiU3RyaW5nIiwicGxhY2Vob2xkZXIiLCJwdXNoIiwiaW5wdXQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZm9udFNpemUiLCJ3aWR0aCIsIlJlZ0V4cCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXBsYWNlIiwiTnVtYmVyIiwiZm9jdXMiLCJldmVudCIsImtleUNvZGUiLCJwZXJmb3JtVmFsaWRhdGlvbiIsImZpbGwiLCJpbnB1dExpc3RlbmVyIiwiZW50ZXJMaXN0ZW5lciIsInNldE1hc2siLCJwcm9wIiwibWFzayIsImxvZ2ljIiwic2V0Q29ycmVjdE1hc2siLCJjb3JyUHJvcCIsImdldEFsbENvbXBvbmVudFZhbHVlcyIsImNoaWxkcmVuIiwiZ2V0TWFzayIsImdldElucHV0c0tvbCIsImdldEN1cnJlbnRTdGF0ZSIsImdldElucHV0c1ZhbHVlcyIsImlucHV0c1ZhbHMiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsImEiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFB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LEVBQUlvQyxLQUFLVSxXQUFZOUMsSUFDN0JvQyxLQUFLVyxXQUFXL0MsS0FDaEJtRyxHQUFjL0QsS0FBS1csV0FBVy9DLEdBQUdpQixPQUs3QyxPQUFPa0YsR0F6Y2ZyRyxFQUFBa0MsMkJBZ2xCQW9FLGVBQWVDLE9BQU8sbUJBQW9CckUsR0FDMUMsTUFBTXNFLEVBQUl0QyxTQUFTUSxlQUFlLEtBQ2xDLEdBQUk4QixFQUFHLENBQ0gsTUFBTXhFLEVBQUksQ0FDTjJELEtBQU0sb0JBRVZhLEVBQUVmLFFBQVV6RCxFQUNad0UsRUFBRVQiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgUHJvcHMgfSBmcm9tICcuL21hc2snO1xuLy8gaW1wb3J0IE5ldHdvcmtIYW5kbGVyIGZyb20gJy4vTmV0d29ya0hhbmRsZXInO1xuXG5leHBvcnQgY2xhc3MgUGhvbmVWYWxpZGF0aW9uQ29tcG9uZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIFxuICAgIC8vINCo0LDQsdC70L7QvSDQutC+0LzQv9C+0L3QtdC90YLQsFxuICAgIHByaXZhdGUgX3RlbXBsYXRlIDogc3RyaW5nO1xuXG4gICAgLy8g0JLRhdC+0LTQvdC+0LUg0LfQvdCw0YfQvdC40LVcbiAgICBwcml2YXRlIF9tYXNrIDogc3RyaW5nID0gJytYKFhYWClYWFgtWFgtWFgnO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyDQlNCw0L3QvdGL0LUg0L/QvtC70Y8g0L3Rg9C20L3RiyDRgtC+0LvRjNC60L4g0LTQu9GPINGC0LXRgdGC0LBcbiAgICBwcml2YXRlIF9jb3JyZWN0TnVtYmVyIDogc3RyaW5nID0gJytYKFhYWClYWFgtWFgtWFgnO1xuICAgIHByaXZhdGUgX2lucHV0c01hc2tBcnIgOiBudW1iZXJbXSA9IFtdO1xuICAgIHByaXZhdGUgX2lucHV0c1ByZXZWYWx1ZXMgOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIERpdiwg0LPQu9Cw0LLQvdGL0LlcbiAgICBwcml2YXRlIF9tYWluRGl2ISA6IEhUTUxEaXZFbGVtZW50O1xuICAgIC8vIERpdiwg0LIg0LrQvtGC0L7RgNC+0Lwg0L/QvtC80LXRidCw0LXRgtGB0Y8g0L3QvtC80LXRgCDQuCDQuNC90L/Rg9GC0YtcbiAgICBwcml2YXRlIF9udW1iZXJTZWN0aW9uISA6IEhUTUxEaXZFbGVtZW50O1xuICAgIC8vIERpdiwg0LIg0LrQvtGC0L7RgNC+0Lwg0L/RgNC40L3RgtC40YLRgdGPINC+0YjQuNCx0LrQsFxuICAgIHByaXZhdGUgX2Vycm9yU2VjdGlvbiEgOiBIVE1MRGl2RWxlbWVudDtcblxuICAgIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INC40L3Qv9GD0YLQvtCyXG4gICAgcHJpdmF0ZSBfaW5wdXRzS29sIDogbnVtYmVyO1xuICAgIC8vINCc0LDRgdGB0LjQsiDQuNC90L/Rg9GC0L7QslxuICAgIHByaXZhdGUgX2lucHV0c0FyciA6IEhUTUxJbnB1dEVsZW1lbnRbXTtcblxuICAgIC8vINCh0L/QvtGB0L7QsSDQstCw0LvQuNC00LDRhtC40Lgg0L3QvtC80LXRgNCwICjQvtCx0YDQsNCx0LvRgtC60LAg0LLRhdC+0LTQvdGL0YUv0LLRi9GF0L7QtNC90YvRhSDQtNCw0L3QvdGL0YUpXG4gICAgcHJpdmF0ZSBfbW9kZSA6IHN0cmluZztcbiAgICBwcml2YXRlIF9wYXRoIDogc3RyaW5nO1xuICAgIC8vIHByaXZhdGUgX25ldHdvcmtIYW5kbGVyIDogTmV0d29ya0hhbmRsZXI7XG5cbiAgICBwcml2YXRlIF93aWR0aCA6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb25zdHJ1Y3RvcicpO1xuICAgICAgICAvLyDQl9Cw0LTQsNC10Lwg0YjQsNCx0LvQvtC9LCDQsiDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINC/0L7QvNC10YnQtdC9INCy0LDQu9C40LTQuNGA0YPQtdC80YvQuSDQvdC+0LzQtdGAXG4gICAgICAgIC8vINCU0LvRjyDQv9GA0L7RgdGC0L7RgtGLINGD0LrQsNC20LXQvCDRgdGC0LjQu9C4INCy0L3Rg9GC0YDQuCDRiNCw0LHQu9C+0L3QsFxuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IGBcbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzNzBweDtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzMzMzMzMztcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XG5cbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmYxMTAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLXN5bWJvbCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzJweDtcblxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24tY2VsbCB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMzJweDtcblxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMnB4O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQsXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3IsXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbi1pbnB1dC1zdWNjZXNzIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE3cHg7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjhweDtcblxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDJweDtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMzMzMzMzO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG5cbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcblxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmMGYwZjA7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjFzIGxpbmVhcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dDpob3ZlciB7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2MyYzJjMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dC1lcnJvciB7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2ZmMTEwMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19lcnJvci1zZWN0aW9uLWlucHV0LXN1Y2Nlc3Mge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICMwMGZmNmE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQ6Zm9jdXMge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjODU4NTg1O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBsaW5lYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9zdHlsZT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW1vZHVsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvblwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcblxuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuX2lucHV0c0tvbCA9IDA7XG4gICAgICAgIHRoaXMuX2lucHV0c0FyciA9IFtdO1xuICAgICAgICB0aGlzLl9tb2RlID0gJ2ZldGNoJztcbiAgICAgICAgdGhpcy5fcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2ZldGNoJztcblxuICAgICAgICAvLyB0aGlzLl9uZXR3b3JrSGFuZGxlciA9IG5ldyBOZXR3b3JrSGFuZGxlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5pbm5lckhUTUwgPSB0aGlzLl90ZW1wbGF0ZTtcbiAgICAgICAgICAgIHRoaXMuX21haW5EaXYgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBob25lLW1vZHVsZScpIGFzIEhUTUxEaXZFbGVtZW50OyAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbiA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5waG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24nKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMubG9naWMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGVyZm9ybVZhbGlkYXRpb24oKSA6IHZvaWQgfCBzdHJpbmcge1xuICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24uaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgbGV0IGVyckNoZWNrIDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yU2VjdGlvbikge1xuXG4gICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAnJztcblxuXG4gICAgLy8gICAgIGxldCBib2R5IDogc3RyaW5nID0gJyc7XG4gICAgLy8gICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG4gICAgLy8gICAgICAgICBib2R5ICs9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGNvbnN0IHJlcSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAvLyAgICAgICAgICdyZXN1bHQnIDogYm9keSxcbiAgICAvLyAgICAgfSk7XG5cbiAgICAvLyAgICAgaWYgKHRoaXMuX3BhdGggPT09ICcnKSB7XG4gICAgLy8gICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAn0JjQt9Cy0LjQvdC40YLQtSwg0L/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDRgdC10YDQstC10YDQsCdcbiAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Cd0LXQstC10YDQvdC+INGD0LrQsNC30LDQvSDQv9GD0YLRjCDQtNC+INGN0L3QtNC/0L7QuNC90YLQsCEnKTtcbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIHRoaXMuX25ldHdvcmtIYW5kbGVyLnNlbmQoXG4gICAgLy8gICAgICAgICAgICAgdGhhdC5fcGF0aCxcbiAgICAvLyAgICAgICAgICAgICAnUE9TVCcsXG4gICAgLy8gICAgICAgICAgICAgcmVxLFxuICAgIC8vICAgICAgICAgICAgIChyZXMgOiBvYmplY3QpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICApO1xuICAgIC8vICAgICB9ICBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW5wdXRzS29sOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uLnRleHRDb250ZW50ID0gJ9CS0YHQtSDQv9C+0LvRjyDQtNC+0LvQttC90Ysg0LHRi9GC0Ywg0LfQsNC/0L7Qu9C10L3Riyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0LWVycm9yJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlICE9PSB0aGlzLl9jb3JyZWN0TnVtYmVyW3RoaXMuX2lucHV0c01hc2tBcnJbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVyckNoZWNrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0LWVycm9yJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAn0J3QtdCy0LXRgNC90YvQuSDQvdC+0LzQtdGALCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQtdGJ0LUg0YDQsNC3JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24taW5wdXQtc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHVibGljIHNldEN1cnJlbnRTdGF0ZShlcnJvciA6IGJvb2xlYW4sIG1lc3NhZ2UgOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIHRoaXMuX2Vycm9yU2VjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yU2VjdGlvbi5pbm5lclRleHQgPSBtZXNzYWdlO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QgJiYgdGhpcy5fZXJyb3JTZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW5wdXRzS29sOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24taW5wdXQtc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBcblxuICAgIC8vINCk0YPQvdC60YbQuNGPINC30LDQv9C+0LvQvdC10L3QuNGPINGB0LXQutGG0LjQuCDQvdC+0LzQtdGA0LAg0YbQuNGE0YDQsNC80Lgg0L3QvtC80LXRgNCwINC4INC40L3Qv9GD0YLQsNC80LhcbiAgICBwcml2YXRlIGZpbGwoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX251bWJlclNlY3Rpb24pIHtcblxuICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5pbm5lckhUTUwgPSBgYDtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yU2VjdGlvbi5pbm5lckhUTUwgPSBgYDtcblxuICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INGP0YfQtdC50LrQuCDRgSDRgdC40LzQstC+0LvQsNC80LggLyDQuNC90L/Rg9GC0Ysg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tYXNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9tYXNrW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICcoJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJy0nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLXN5bWJvbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVyVGV4dCA9IHRoaXMuX21hc2tbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2lkdGggKz0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdJJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaWQgPSBTdHJpbmcodGhpcy5faW5wdXRzS29sKyspO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5wbGFjZWhvbGRlciA9ICdfJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c01hc2tBcnIucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c1ByZXZWYWx1ZXMucHVzaCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0IDogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChTdHJpbmcodGhpcy5faW5wdXRzS29sIC0gMSkpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyLnB1c2goaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2lkdGggKz0gMjk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICcqJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1jZWxsJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaW5uZXJUZXh0ID0gJ+KAoic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLmZvbnRTaXplID0gJzI1cHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoICs9IDI5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnWCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24tY2VsbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVyVGV4dCA9IHRoaXMuX21hc2tbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2lkdGggKz0gMjk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWNlbGwnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lclRleHQgPSB0aGlzLl9tYXNrW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoICs9IDI5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYWluRGl2LnN0eWxlLndpZHRoID0gU3RyaW5nKHRoaXMuX3dpZHRoICsgMSkgKyAncHgnO1xuICAgIH1cblxuICAgIC8vINCf0L7QtNC/0LjRgdGL0LLQsNC10LzRgdGPINC90LAg0YHQvtCx0YvRgtC40LUg0LjQt9C80LXQvdC10L3QuNGPINC30L3QsNGH0LXQvdC40Y8g0LjQvdC/0YPRgtCwINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0LLQstC+0LTQuNC80YvRhVxuICAgIC8vINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8INC00LDQvdC90YvRhVxuICAgIHByaXZhdGUgaW5wdXRMaXN0ZW5lcigpIDogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJnID0gbmV3IFJlZ0V4cCgnXlswLTldKyQnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0JztcblxuICAgICAgICAgICAgICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0LLQstC+0LTQuNC80L7QtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvCDQt9C90LDRh9C90LjQtSwg0Y/QstC70Y/QtdGC0YHRjyDQu9C4INC+0L3QviDRh9C40YHQu9C+0LxcbiAgICAgICAgICAgICAgICAgICAgLy8gKNC90LUg0LjRgdC/0L7Qu9GM0LfRg9GOIGlzTmFOINC90LAgcGFyc2VJbnQsINGC0Log0L/QvtGM0L7QstCw0YLQtdC70Ywg0LzQvtC20LXRgiDQstCy0LXRgdGC0Lgg0LfQvdCw0YfQtdC90LjQtVxuICAgICAgICAgICAgICAgICAgICAvLyDQutCw0Log0LIg0L3QsNGH0LDQu9C+INC40LzQv9GD0YLQsCwg0YLQsNC6INC4INCyINC60L7QvdC10YYpXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlID0gdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlLnJlcGxhY2UoL1teK1xcZF0vZywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS52YWx1ZVsxXSAhPT0gdGhpcy5faW5wdXRzUHJldlZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzUHJldlZhbHVlc1tpXSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c1ByZXZWYWx1ZXNbaV0gPSB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWVbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUgPSB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWVbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS5jbGFzc05hbWUgPT09ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0LWVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzUHJldlZhbHVlc1tpXSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoTnVtYmVyKHRoaXMuX2lucHV0c0FycltpXS5pZCkpIDwgdGhpcy5faW5wdXRzS29sIC0gMSAmJiB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaSArIDFdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDQn9C+0LTQv9C40YHRi9Cy0LDQtdC80YHRjyDQvdCwINGB0L7QsdGL0YLQuNC1INC90LDQttCw0YLQuNGPIGVudGVyINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0LLRi9GF0L7QttC90YvQvNC4INC00LDQvdC90YvQvNC4XG4gICAgcHJpdmF0ZSBlbnRlckxpc3RlbmVyKCkgOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtVmFsaWRhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g0J7QsdGJ0LDRjyDRhNGD0L3QutGG0LjRjyDRgNCw0LHQvtGC0Ysg0LrQvtC80L/QvtC90LXQvdGC0LBcbiAgICBwcml2YXRlIGxvZ2ljKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWxsKCk7XG4gICAgICAgIHRoaXMuaW5wdXRMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLmVudGVyTGlzdGVuZXIoKTtcbiAgICB9XG4gICAgXG4gICAgLy8g0KHQtdGC0YLQtdGAINC80LDRgdC60LhcbiAgICBzZXQgc2V0TWFzayhwcm9wIDogUHJvcHMpIHtcbiAgICAgICAgdGhpcy5fbWFzayA9IHByb3AubWFzaztcbiAgICAgICAgdGhpcy5sb2dpYygpO1xuICAgIH1cblxuICAgIC8vINCh0LXRgtGC0LXRgCDQutC+0YDRgNC10LrRgtC90L7Qs9C+INC90L7QvNC10YDQsCAo0LTQu9GPINC/0YDQvtCz0L7QvdCwINGC0LXRgdGC0L7QsilcbiAgICAvLyAo0LrQvtGA0YDQtdC60YLQvdGL0Lkg0L3QvtC80LXRgCA9INC80LDRgdC60LAsINGDINC60L7RgtC+0YDQvtC5INCy0LzQtdGB0YLQviBJINGB0YLQvtGP0YIg0LLQtdGA0L3Ri9C1INC30L3QsNGH0LXQvdC40Y86XG4gICAgLy8gZXhwbDogbWFzazogICAgICAgICs3KDk4NSkwSUktKiotKipcbiAgICAvLyAgICAgICBjb3JyZWN0TWFzazogKzcoOTg1KTA3Ny0qKi0qKilcbiAgICBzZXQgc2V0Q29ycmVjdE1hc2soY29yclByb3A6IFByb3BzKSB7XG4gICAgICAgIHRoaXMuX2NvcnJlY3ROdW1iZXIgPSBjb3JyUHJvcC5tYXNrO1xuICAgIH1cblxuICAgIGdldCBnZXRBbGxDb21wb25lbnRWYWx1ZXMoKSA6IHN0cmluZyB7XG4gICAgICAgIGxldCByZXN1bHQgOiBzdHJpbmcgPSAnJztcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl9udW1iZXJTZWN0aW9uKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX251bWJlclNlY3Rpb24uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIHRoaXMuX251bWJlclNlY3Rpb24uY2hpbGRyZW5baV0pIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHR5cGVvZiB0aGlzLl9udW1iZXJTZWN0aW9uLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFxuXG4gICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10Lwg0YLQtdC60YPRidGD0Y4g0LzQsNGB0LrRg1xuICAgIGdldCBnZXRNYXNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICB9XG5cbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQuNC90L/Rg9GC0L7Qsiwg0LrQvtGC0L7RgNGL0LUg0YTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC40LvQsCDQsiBcbiAgICAvLyBfbnVtYmVyU2VjdGlvbiAo0L/RgNC+0YnQtSDQs9C+0LLQvtGA0Y8gLSDQutC+0LvQuNGH0LXRgdGC0LLQviBJINCyINC80LDRgdC60LUpLlxuICAgIGdldCBnZXRJbnB1dHNLb2woKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dHNLb2w7XG4gICAgfVxuXG4gICAgZ2V0IGdldEN1cnJlbnRTdGF0ZSgpIDogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yU2VjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yU2VjdGlvbi5pbm5lclRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgIH1cblxuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INC30LDQvdGH0L3QuNGPINC40Lcg0LjQvdC/0LXRgtC+0LIg0LrQvtC80L/QvtC90LXRgtCwXG4gICAgZ2V0IGdldElucHV0c1ZhbHVlcygpIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBpbnB1dHNWYWxzIDogc3RyaW5nID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzVmFscyArPSB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlucHV0c1ZhbHM7XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBjcmVhdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gICAgIHRoaXMuX3RlbXBsYXRlID0gYFxuICAgIC8vICAgICA8c3R5bGU+XG4gICAgLy8gICAgICAgICAucGhvbmUtbW9kdWxlIHtcbiAgICAvLyAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgIC8vICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcblxuICAgIC8vICAgICAgICAgICAgIHdpZHRoOiAzNzBweDtcbiAgICAvLyAgICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG5cbiAgICAvLyAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgICAvLyAgICAgICAgICAgICBjb2xvcjogIzMzMzMzMztcbiAgICAvLyAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG5cbiAgICAvLyAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAvLyAgICAgICAgIH1cblxuICAgIC8vICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24ge1xuICAgIC8vICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgLy8gICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuXG4gICAgLy8gICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgLy8gICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xuXG4gICAgLy8gICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIC5waG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24ge1xuICAgIC8vICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgLy8gICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAvLyAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgLy8gICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgLy8gICAgICAgICAgICAgY29sb3I6ICNmZjExMDA7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLXN5bWJvbCB7XG4gICAgLy8gICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIC8vICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xuXG4gICAgLy8gICAgICAgICAgICAgd2lkdGg6IDEwcHg7XG4gICAgLy8gICAgICAgICAgICAgaGVpZ2h0OiAzMnB4O1xuXG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgIC8vICAgICAgICAgfVxuXG4gICAgLy8gICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1jZWxsIHtcbiAgICAvLyAgICAgICAgICAgICB3aWR0aDogMjVweDtcbiAgICAvLyAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG5cbiAgICAvLyAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgLy8gICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG5cbiAgICAvLyAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuXG4gICAgLy8gICAgICAgICAgICAgbWFyZ2luOiAycHg7XG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIC8vICAgICAgICAgfVxuXG4gICAgLy8gICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dCxcbiAgICAvLyAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0LWVycm9yLFxuICAgIC8vICAgICAgICAgLnBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbi1pbnB1dC1zdWNjZXNzIHtcbiAgICAvLyAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIC8vICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xuXG4gICAgLy8gICAgICAgICAgICAgd2lkdGg6IDE3cHg7XG4gICAgLy8gICAgICAgICAgICAgaGVpZ2h0OiAyOHB4O1xuXG4gICAgLy8gICAgICAgICAgICAgbWFyZ2luOiAycHg7XG4gICAgLy8gICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7XG5cbiAgICAvLyAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgICAvLyAgICAgICAgICAgICBjb2xvcjogIzMzMzMzMztcbiAgICAvLyAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG5cbiAgICAvLyAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuXG4gICAgLy8gICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcblxuICAgIC8vICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmMGYwZjA7XG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuXG4gICAgLy8gICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBsaW5lYXI7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0OmhvdmVyIHtcbiAgICAvLyAgICAgICAgICAgICBib3JkZXItY29sb3I6ICNjMmMyYzI7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0LWVycm9yIHtcbiAgICAvLyAgICAgICAgICAgICBib3JkZXItY29sb3I6ICNmZjExMDA7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIC5waG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24taW5wdXQtc3VjY2VzcyB7XG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDBmZjZhO1xuICAgIC8vICAgICAgICAgfVxuXG4gICAgLy8gICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dDpmb2N1cyB7XG4gICAgLy8gICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzg1ODU4NTtcbiAgICAvLyAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG5cbiAgICAvLyAgICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjFzIGxpbmVhcjtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgPC9zdHlsZT5cblxuICAgIC8vICAgICA8ZGl2IGNsYXNzPVwicGhvbmUtbW9kdWxlXCI+XG4gICAgLy8gICAgICAgICA8ZGl2IGNsYXNzPVwicGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvblwiPjwvZGl2PlxuICAgIC8vICAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvblwiPjwvZGl2PlxuICAgIC8vICAgICA8L2Rpdj5cbiAgICAvLyBgO1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdjeWNsZScpO1xuXG5cbiAgICAvLyAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcblxuICAgIC8vICAgICB0aGlzLl9pbnB1dHNLb2wgPSAwO1xuICAgIC8vICAgICB0aGlzLl9pbnB1dHNBcnIgPSBbXTtcbiAgICAvLyAgICAgdGhpcy5fc3RhdGUgPSAnbm9uZSc7XG5cbiAgICAvLyAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgIC8vICAgICAgICAgdGhpcy5zaGFkb3dSb290LmlubmVySFRNTCA9IHRoaXMuX3RlbXBsYXRlO1xuICAgIC8vICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbiA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIC8vICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5waG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24nKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIHRoaXMubG9naWMoKTtcbiAgICAvLyB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyDQlNCw0L3QvdGL0LUg0L/QvtC70Y8g0L3Rg9C20L3RiyDRgtC+0LvRjNC60L4g0LTQu9GPINGC0LXRgdGC0LBcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInBob25lLXZhbGlkYXRpb25cIiwgUGhvbmVWYWxpZGF0aW9uQ29tcG9uZW50KTtcbmNvbnN0IGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnNycpIGFzIFBob25lVmFsaWRhdGlvbkNvbXBvbmVudDtcbmlmIChhKSB7XG4gICAgY29uc3QgcCA9IHtcbiAgICAgICAgbWFzazogJys3KDk4NSkwSUktKiotKionLFxuICAgIH07XG4gICAgYS5zZXRNYXNrID0gcDtcbiAgICBhLmdldEFsbENvbXBvbmVudFZhbHVlc1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiJdLCJzb3VyY2VSb290IjoiIn0=