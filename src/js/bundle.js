!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";!function(){customElements.define("phone-validation",class extends HTMLElement{constructor(){super(),this._mask="+7(985)0II-**-**",this._correctNumber="+7(985)077-**-**",this._inputsMaskArr=[],this._inputsPrevValues=[],this._template=document.createElement("template"),this._template.innerHTML='\n                <style>\n                    :host {\n                    display: block;\n                    }\n            \n                    .phone-module {\n                        display: flex;\n                        flex-wrap: wrap;\n            \n                        width: 370px;\n                        height: 50px;\n            \n                        font-family: Arial, Helvetica, sans-serif;\n                        color: #333333;\n                        font-size: 20px;\n            \n                        justify-content: space-around;\n                    }\n            \n                    .phone-module__number-section {\n                        display: flex;\n                        flex-wrap: wrap;\n            \n                        width: 100%;\n                        height: 35px;\n            \n                        justify-content: space-around;\n                    }\n            \n                    .phone-module__error-section {\n                        width: 100%;\n            \n                        text-align: left;\n                        font-size: 14px;\n                        font-family: Arial, Helvetica, sans-serif;\n                        color: #ff1100;\n                    }\n            \n                    .phone-module__number-section-symbol {\n                        text-align: center;\n                        line-height: 32px;\n            \n                        width: 10px;\n                        height: 32px;\n            \n                        border: none;\n                    }\n            \n                    .phone-module__number-section-cell {\n                        width: 25px;\n                        height: 32px;\n            \n                        text-align: center;\n                        line-height: 32px;\n            \n                        background-color: #f0f0f0;\n            \n                        margin: 2px;\n                        border-radius: 2px;\n                    }\n            \n                    .phone-module__number-section-input,\n                    .phone-module__number-section-input-error,\n                    .phone-module__error-section-input-success {\n                        text-align: left;\n                        line-height: 32px;\n            \n                        width: 17px;\n                        height: 28px;\n            \n                        margin: 2px;\n                        padding-left: 6px;\n            \n                        font-family: Arial, Helvetica, sans-serif;\n                        color: #333333;\n                        font-size: 20px;\n            \n                        background-color: #ffffff;\n            \n                        outline: none;\n            \n                        border: 1px solid #f0f0f0;\n                        border-radius: 2px;\n            \n                        transition: 0.1s linear;\n                    }\n            \n                    .phone-module__number-section-input:hover {\n                        border-color: #c2c2c2;\n                    }\n            \n                    .phone-module__number-section-input-error {\n                        border-color: #ff1100;\n                    }\n            \n                    .phone-module__error-section-input-success {\n                        border-color: #00ff6a;\n                    }\n            \n                    .phone-module__number-section-input:focus {\n                        border: 1px solid #858585;\n                        border-radius: 2px;\n            \n                        transition: 0.1s linear;\n                    }\n                </style>\n            \n                <div class="phone-module">\n                    <div class="phone-module__number-section"></div>\n                    <div class="phone-module__error-section"></div>\n                </div>   \n            ',this.attachShadow({mode:"open"}),this._width=0,this._inputsKol=0,this._inputsArr=[],this._mode="fetch",this._path="http://localhost:3000/api/fetch",this.shadowRoot&&(this.shadowRoot.appendChild(this._template.content.cloneNode(!0)),this._mainDiv=this.shadowRoot.querySelector(".phone-module"),this._numberSection=this.shadowRoot.querySelector(".phone-module__number-section"),this._errorSection=this.shadowRoot.querySelector(".phone-module__error-section")),this.logic()}performValidation(){this._errorSection.innerHTML="";let e=!1;if(this._errorSection){this._errorSection.textContent="";for(let t=0;t<this._inputsKol;t++)if(this.shadowRoot&&this._inputsArr[t]){if(""===this._inputsArr[t].value)return this._errorSection.textContent="Все поля должны быть заполены",void(this._inputsArr[t].className="phone-module__number-section-input-error");this._inputsArr[t].value!==this._correctNumber[this._inputsMaskArr[t]]&&(e=!0)}if(e){for(let e=0;e<this._inputsKol;e++)this.shadowRoot&&this._inputsArr[e]&&(this._inputsArr[e].className="phone-module__number-section-input-error");this._errorSection.textContent="Неверный номер, попробуйте еще раз"}else for(let e=0;e<this._inputsKol;e++)this.shadowRoot&&this._inputsArr[e]&&(this._inputsArr[e].className="phone-module__error-section-input-success")}}setCurrentState(e,t){if(e){if(this.shadowRoot&&this._errorSection){this._errorSection.innerText=t;for(let e=0;e<this._inputsKol;e++)this._inputsArr[e].className="phone-module__number-section-input-error"}}else if(this.shadowRoot&&this._errorSection){this._errorSection.innerText="";for(let e=0;e<this._inputsKol;e++)this._inputsArr[e].className="phone-module__error-section-input-success"}}fill(){if(this._numberSection.innerHTML="",this._width=0,this._numberSection){this._numberSection.innerHTML="",this._errorSection.innerHTML="";for(let e=0;e<this._mask.length;e++)switch(this._mask[e]){case"+":case"(":case")":case"-":{const t=document.createElement("div");t.className="phone-module__number-section-symbol",t.innerText=this._mask[e],this._numberSection.appendChild(t),this._width+=10;break}case"I":{const t=document.createElement("input");if(t.className="phone-module__number-section-input",t.id=String(this._inputsKol++),t.placeholder="_",this._inputsMaskArr.push(e),this._inputsPrevValues.push(""),this._numberSection.appendChild(t),this.shadowRoot){const e=this.shadowRoot.getElementById(String(this._inputsKol-1));this._inputsArr.push(e)}this._width+=29;break}case"*":{const e=document.createElement("div");e.className="phone-module__number-section-cell",e.innerText="•",e.style.fontSize="25px",this._numberSection.appendChild(e),this._width+=29;break}case"X":default:{const t=document.createElement("div");t.className="phone-module__number-section-cell",t.innerText=this._mask[e],this._numberSection.appendChild(t),this._width+=29;break}}}this._mainDiv.style.width=String(this._width+1)+"px"}inputListener(){new RegExp("^[0-9]+$");for(let e=0;e<this._inputsKol;e++)this._inputsArr[e]&&this._inputsArr[e].addEventListener("input",()=>{this._inputsArr[e].className="phone-module__number-section-input",this._inputsArr[e].value=this._inputsArr[e].value.replace(/[^+\d]/g,""),""!==this._inputsArr[e].value&&(this._inputsArr[e].value.length>1?(this._inputsArr[e].value.length>1&&(this._inputsArr[e].value[1]!==this._inputsPrevValues[e]?(this._inputsPrevValues[e]=this._inputsArr[e].value[1],this._inputsArr[e].value=this._inputsArr[e].value[1]):(this._inputsPrevValues[e]=this._inputsArr[e].value[0],this._inputsArr[e].value=this._inputsArr[e].value[0])),"phone-module__number-section-input-error"===this._inputsArr[e].className&&(this._inputsArr[e].className="phone-module__number-section-input")):this._inputsPrevValues[e]=this._inputsArr[e].value,Number(this._inputsArr[e].id)<this._inputsKol-1&&""!==this._inputsArr[e].value&&this.shadowRoot&&this._inputsArr[e+1].focus())})}enterListener(){this.shadowRoot&&document.addEventListener("keypress",e=>{13===e.keyCode&&this.performValidation()})}logic(){this.fill(),this.inputListener(),this.enterListener()}set setMask(e){this._mask=e.mask,this.logic()}set setCorrectMask(e){this._correctNumber=e.mask}get getAllComponentValues(){if(this._numberSection)for(let e=0;e<this._numberSection.children.length;e++)console.log(typeof this._numberSection.children[e]);return""}get getMask(){return this._mask}get getInputsKol(){return this._inputsKol}get getCurrentState(){return this._errorSection?this._errorSection.innerText:"none"}get getInputsValues(){let e="";if(this.shadowRoot)for(let t=0;t<this._inputsKol;t++)this._inputsArr[t]&&(e+=this._inputsArr[t].value);return e}});const e=document.getElementById("7");if(e){const t={mask:"+7(985)0II-**-**"};e.setMask=t}}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJIVE1MRWxlbWVudCIsIltvYmplY3QgT2JqZWN0XSIsInN1cGVyIiwidGhpcyIsIl9tYXNrIiwiX2NvcnJlY3ROdW1iZXIiLCJfaW5wdXRzTWFza0FyciIsIl9pbnB1dHNQcmV2VmFsdWVzIiwiX3RlbXBsYXRlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXR0YWNoU2hhZG93IiwiX3dpZHRoIiwiX2lucHV0c0tvbCIsIl9pbnB1dHNBcnIiLCJfbW9kZSIsIl9wYXRoIiwic2hhZG93Um9vdCIsImFwcGVuZENoaWxkIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9tYWluRGl2IiwicXVlcnlTZWxlY3RvciIsIl9udW1iZXJTZWN0aW9uIiwiX2Vycm9yU2VjdGlvbiIsImxvZ2ljIiwiZXJyQ2hlY2siLCJ0ZXh0Q29udGVudCIsImNsYXNzTmFtZSIsImVycm9yIiwibWVzc2FnZSIsImlubmVyVGV4dCIsImxlbmd0aCIsImNlbGwiLCJpZCIsIlN0cmluZyIsInBsYWNlaG9sZGVyIiwicHVzaCIsImlucHV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImZvbnRTaXplIiwid2lkdGgiLCJSZWdFeHAiLCJhZGRFdmVudExpc3RlbmVyIiwicmVwbGFjZSIsIk51bWJlciIsImZvY3VzIiwiZXZlbnQiLCJrZXlDb2RlIiwicGVyZm9ybVZhbGlkYXRpb24iLCJmaWxsIiwiaW5wdXRMaXN0ZW5lciIsImVudGVyTGlzdGVuZXIiLCJzZXRNYXNrIiwicHJvcCIsIm1hc2siLCJzZXRDb3JyZWN0TWFzayIsImNvcnJQcm9wIiwiZ2V0QWxsQ29tcG9uZW50VmFsdWVzIiwiY2hpbGRyZW4iLCJjb25zb2xlIiwibG9nIiwiZ2V0TWFzayIsImdldElucHV0c0tvbCIsImdldEN1cnJlbnRTdGF0ZSIsImdldElucHV0c1ZhbHVlcyIsImlucHV0c1ZhbHMiLCJhIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFB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TyxVQUd2QixPQUlYbUMsc0JBRUksSUFBSUMsRUFBc0IsR0FFMUIsR0FBSWpFLEtBQUtlLFdBQ0wsSUFBSyxJQUFJcEQsRUFBSSxFQUFHQSxFQUFJcUMsS0FBS1csV0FBWWhELElBQzdCcUMsS0FBS1ksV0FBV2pELEtBQ2hCc0csR0FBY2pFLEtBQUtZLFdBQVdqRCxHQUFHaUIsT0FLN0MsT0FBT3FGLEtBUWYsTUFBTUMsRUFBSTVELFNBQVMrQixlQUFlLEtBRWxDLEdBQUk2QixFQUFHLENBQ0gsTUFBTXpFLEVBQUksQ0FDTjZELEtBQU0sb0JBRVZZLEVBQUVkLFFBQVUzRCxHQTdkcEIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgIGNsYXNzIFBob25lVmFsaWRhdGlvbkNvbXBvbmVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBcbiAgICAgICAgLy8g0KjQsNCx0LvQvtC9INC60L7QvNC/0L7QvdC10L3RgtCwXG4gICAgICAgIHByaXZhdGUgX3RlbXBsYXRlIDogSFRNTFRlbXBsYXRlRWxlbWVudDtcbiAgICBcbiAgICAgICAgLy8g0JLRhdC+0LTQvdC+0LUg0LfQvdCw0YfQvdC40LVcbiAgICAgICAgcHJpdmF0ZSBfbWFzayA6IHN0cmluZyA9ICcrNyg5ODUpMElJLSoqLSoqJztcbiAgICBcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8g0JTQsNC90L3Ri9C1INC/0L7Qu9GPINC90YPQttC90Ysg0YLQvtC70YzQutC+INC00LvRjyDRgtC10YHRgtCwXG4gICAgICAgIHByaXZhdGUgX2NvcnJlY3ROdW1iZXIgOiBzdHJpbmcgPSAnKzcoOTg1KTA3Ny0qKi0qKic7XG4gICAgICAgIHByaXZhdGUgX2lucHV0c01hc2tBcnIgOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBwcml2YXRlIF9pbnB1dHNQcmV2VmFsdWVzIDogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICAgICAgLy8gRGl2LCDQs9C70LDQstC90YvQuVxuICAgICAgICBwcml2YXRlIF9tYWluRGl2ISA6IEhUTUxEaXZFbGVtZW50O1xuICAgICAgICAvLyBEaXYsINCyINC60L7RgtC+0YDQvtC8INC/0L7QvNC10YnQsNC10YLRgdGPINC90L7QvNC10YAg0Lgg0LjQvdC/0YPRgtGLXG4gICAgICAgIHByaXZhdGUgX251bWJlclNlY3Rpb24hIDogSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgIC8vIERpdiwg0LIg0LrQvtGC0L7RgNC+0Lwg0L/RgNC40L3RgtC40YLRgdGPINC+0YjQuNCx0LrQsFxuICAgICAgICBwcml2YXRlIF9lcnJvclNlY3Rpb24hIDogSFRNTERpdkVsZW1lbnQ7XG4gICAgXG4gICAgICAgIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INC40L3Qv9GD0YLQvtCyXG4gICAgICAgIHByaXZhdGUgX2lucHV0c0tvbCA6IG51bWJlcjtcbiAgICAgICAgLy8g0JzQsNGB0YHQuNCyINC40L3Qv9GD0YLQvtCyXG4gICAgICAgIHByaXZhdGUgX2lucHV0c0FyciA6IEhUTUxJbnB1dEVsZW1lbnRbXTtcbiAgICBcbiAgICAgICAgLy8g0KHQv9C+0YHQvtCxINCy0LDQu9C40LTQsNGG0LjQuCDQvdC+0LzQtdGA0LAgKNC+0LHRgNCw0LHQu9GC0LrQsCDQstGF0L7QtNC90YvRhS/QstGL0YXQvtC00L3Ri9GFINC00LDQvdC90YvRhSlcbiAgICAgICAgcHJpdmF0ZSBfbW9kZSA6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBfcGF0aCA6IHN0cmluZztcbiAgICAgICAgLy8gcHJpdmF0ZSBfbmV0d29ya0hhbmRsZXIgOiBOZXR3b3JrSGFuZGxlcjtcbiAgICBcbiAgICAgICAgcHJpdmF0ZSBfd2lkdGggOiBudW1iZXI7XG4gICAgXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICBcbiAgICBcbiAgICAgICAgICAgIC8vINCX0LDQtNCw0LXQvCDRiNCw0LHQu9C+0L0sINCyINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0L/QvtC80LXRidC10L0g0LLQsNC70LjQtNC40YDRg9C10LzRi9C5INC90L7QvNC10YBcbiAgICAgICAgICAgIC8vINCU0LvRjyDQv9GA0L7RgdGC0L7RgtGLINGD0LrQsNC20LXQvCDRgdGC0LjQu9C4INCy0L3Rg9GC0YDQuCDRiNCw0LHQu9C+0L3QsFxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGUuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGUge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDM3MHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMzMzMzMzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmYxMTAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24tc3ltYm9sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24tY2VsbCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjVweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMnB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0LWVycm9yLFxuICAgICAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19lcnJvci1zZWN0aW9uLWlucHV0LXN1Y2Nlc3Mge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTdweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjhweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAycHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDZweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzMzMzMzMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2YwZjBmMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBsaW5lYXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dDpob3ZlciB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICNjMmMyYzI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dC1lcnJvciB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICNmZjExMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19lcnJvci1zZWN0aW9uLWlucHV0LXN1Y2Nlc3Mge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDBmZjZhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQ6Zm9jdXMge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzg1ODU4NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBsaW5lYXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW1vZHVsZVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvblwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGhvbmUtbW9kdWxlX19lcnJvci1zZWN0aW9uXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICAgXG4gICAgICAgICAgICBgXG4gICAgXG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIFxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSAwO1xuICAgICAgICAgICAgdGhpcy5faW5wdXRzS29sID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0c0FyciA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbW9kZSA9ICdmZXRjaCc7XG4gICAgICAgICAgICB0aGlzLl9wYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZmV0Y2gnO1xuICAgIFxuICAgICAgICAgICAgLy8gdGhpcy5fbmV0d29ya0hhbmRsZXIgPSBuZXcgTmV0d29ya0hhbmRsZXIoKTtcbiAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5fdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21haW5EaXYgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBob25lLW1vZHVsZScpIGFzIEhUTUxEaXZFbGVtZW50OyAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuX251bWJlclNlY3Rpb24gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24nKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdGhpcy5sb2dpYygpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHB1YmxpYyBwZXJmb3JtVmFsaWRhdGlvbigpIDogdm9pZCB8IHN0cmluZyB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24uaW5uZXJIVE1MID0gJyc7XG4gICAgXG4gICAgICAgICAgICBsZXQgZXJyQ2hlY2sgOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvclNlY3Rpb24pIHtcbiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAnJztcbiAgICBcbiAgICBcbiAgICAgICAgLy8gICAgIGxldCBib2R5IDogc3RyaW5nID0gJyc7XG4gICAgICAgIC8vICAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW5wdXRzS29sOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICBib2R5ICs9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZTtcbiAgICAgICAgLy8gICAgIH1cbiAgICBcbiAgICAgICAgLy8gICAgIGNvbnN0IHJlcSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLy8gICAgICAgICAncmVzdWx0JyA6IGJvZHksXG4gICAgICAgIC8vICAgICB9KTtcbiAgICBcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLl9wYXRoID09PSAnJykge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuX2Vycm9yU2VjdGlvbi50ZXh0Q29udGVudCA9ICfQmNC30LLQuNC90LjRgtC1LCDQv9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINGB0LXRgNCy0LXRgNCwJ1xuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Cd0LXQstC10YDQvdC+INGD0LrQsNC30LDQvSDQv9GD0YLRjCDQtNC+INGN0L3QtNC/0L7QuNC90YLQsCEnKTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5fbmV0d29ya0hhbmRsZXIuc2VuZChcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhhdC5fcGF0aCxcbiAgICAgICAgLy8gICAgICAgICAgICAgJ1BPU1QnLFxuICAgICAgICAvLyAgICAgICAgICAgICByZXEsXG4gICAgICAgIC8vICAgICAgICAgICAgIChyZXMgOiBvYmplY3QpID0+IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICApO1xuICAgICAgICAvLyAgICAgfSAgXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uLnRleHRDb250ZW50ID0gJ9CS0YHQtSDQv9C+0LvRjyDQtNC+0LvQttC90Ysg0LHRi9GC0Ywg0LfQsNC/0L7Qu9C10L3Riyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpXS5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dC1lcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSAhPT0gdGhpcy5fY29ycmVjdE51bWJlclt0aGlzLl9pbnB1dHNNYXNrQXJyW2ldXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJDaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJDaGVjaykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAn0J3QtdCy0LXRgNC90YvQuSDQvdC+0LzQtdGALCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQtdGJ0LUg0YDQsNC3JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24taW5wdXQtc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwdWJsaWMgc2V0Q3VycmVudFN0YXRlKGVycm9yIDogYm9vbGVhbiwgbWVzc2FnZSA6IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCAmJiB0aGlzLl9lcnJvclNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uLmlubmVyVGV4dCA9IG1lc3NhZ2U7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW5wdXRzS29sOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpXS5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dC1lcnJvcic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QgJiYgdGhpcy5fZXJyb3JTZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yU2VjdGlvbi5pbm5lclRleHQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24taW5wdXQtc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgXG4gICAgICAgIC8vINCk0YPQvdC60YbQuNGPINC30LDQv9C+0LvQvdC10L3QuNGPINGB0LXQutGG0LjQuCDQvdC+0LzQtdGA0LAg0YbQuNGE0YDQsNC80Lgg0L3QvtC80LXRgNCwINC4INC40L3Qv9GD0YLQsNC80LhcbiAgICAgICAgcHJpdmF0ZSBmaWxsKCkgOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX251bWJlclNlY3Rpb24uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgXG4gICAgICAgICAgICBpZiAodGhpcy5fbnVtYmVyU2VjdGlvbikge1xuICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuX251bWJlclNlY3Rpb24uaW5uZXJIVE1MID0gYGA7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uLmlubmVySFRNTCA9IGBgO1xuICAgIFxuICAgICAgICAgICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRj9GH0LXQudC60Lgg0YEg0YHQuNC80LLQvtC70LDQvNC4IC8g0LjQvdC/0YPRgtGLINC00LvRjyDQstCw0LvQuNC00LDRhtC40LhcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21hc2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9tYXNrW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICctJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLXN5bWJvbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lclRleHQgPSB0aGlzLl9tYXNrW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX251bWJlclNlY3Rpb24uYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2lkdGggKz0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdJJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaWQgPSBTdHJpbmcodGhpcy5faW5wdXRzS29sKyspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwucGxhY2Vob2xkZXIgPSAnXyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzTWFza0Fyci5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c1ByZXZWYWx1ZXMucHVzaCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0IDogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChTdHJpbmcodGhpcy5faW5wdXRzS29sIC0gMSkpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0Fyci5wdXNoKGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2lkdGggKz0gMjk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcqJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWNlbGwnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaW5uZXJUZXh0ID0gJ+KAoic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5mb250U2l6ZSA9ICcyNXB4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoICs9IDI5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnWCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1jZWxsJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVyVGV4dCA9IHRoaXMuX21hc2tbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93aWR0aCArPSAyOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1jZWxsJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVyVGV4dCA9IHRoaXMuX21hc2tbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl93aWR0aCArPSAyOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHRoaXMuX21haW5EaXYuc3R5bGUud2lkdGggPSBTdHJpbmcodGhpcy5fd2lkdGggKyAxKSArICdweCc7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8g0J/QvtC00L/QuNGB0YvQstCw0LXQvNGB0Y8g0L3QsCDRgdC+0LHRi9GC0LjQtSDQuNC30LzQtdC90LXQvdC40Y8g0LfQvdCw0YfQtdC90LjRjyDQuNC90L/Rg9GC0LAg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDQstCy0L7QtNC40LzRi9GFXG4gICAgICAgIC8vINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8INC00LDQvdC90YvRhVxuICAgICAgICBwcml2YXRlIGlucHV0TGlzdGVuZXIoKSA6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgcmcgPSBuZXcgUmVnRXhwKCdeWzAtOV0rJCcpO1xuICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgIFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWlucHV0JztcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQstCy0L7QtNC40LzQvtC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8INC30L3QsNGH0L3QuNC1LCDRj9Cy0LvRj9C10YLRgdGPINC70Lgg0L7QvdC+INGH0LjRgdC70L7QvFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKNC90LUg0LjRgdC/0L7Qu9GM0LfRg9GOIGlzTmFOINC90LAgcGFyc2VJbnQsINGC0Log0L/QvtGM0L7QstCw0YLQtdC70Ywg0LzQvtC20LXRgiDQstCy0LXRgdGC0Lgg0LfQvdCw0YfQtdC90LjQtVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0LrQsNC6INCyINC90LDRh9Cw0LvQviDQuNC80L/Rg9GC0LAsINGC0LDQuiDQuCDQsiDQutC+0L3QtdGGKVxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlID0gdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlLnJlcGxhY2UoL1teK1xcZF0vZywgJycpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS52YWx1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlWzFdICE9PSB0aGlzLl9pbnB1dHNQcmV2VmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzUHJldlZhbHVlc1tpXSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUgPSB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWVbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c1ByZXZWYWx1ZXNbaV0gPSB0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWVbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlID0gdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLmNsYXNzTmFtZSA9PT0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzUHJldlZhbHVlc1tpXSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChOdW1iZXIodGhpcy5faW5wdXRzQXJyW2ldLmlkKSkgPCB0aGlzLl9pbnB1dHNLb2wgLSAxICYmIHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2kgKyAxXS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8g0J/QvtC00L/QuNGB0YvQstCw0LXQvNGB0Y8g0L3QsCDRgdC+0LHRi9GC0LjQtSDQvdCw0LbQsNGC0LjRjyBlbnRlciDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINCy0YvRhdC+0LbQvdGL0LzQuCDQtNCw0L3QvdGL0LzQuFxuICAgICAgICBwcml2YXRlIGVudGVyTGlzdGVuZXIoKSA6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtVmFsaWRhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8g0J7QsdGJ0LDRjyDRhNGD0L3QutGG0LjRjyDRgNCw0LHQvtGC0Ysg0LrQvtC80L/QvtC90LXQvdGC0LBcbiAgICAgICAgcHJpdmF0ZSBsb2dpYygpIDogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmZpbGwoKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRMaXN0ZW5lcigpO1xuICAgICAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vINCh0LXRgtGC0LXRgCDQvNCw0YHQutC4XG4gICAgICAgIHNldCBzZXRNYXNrKHByb3AgOiBQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHByb3AubWFzaztcbiAgICAgICAgICAgIHRoaXMubG9naWMoKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyDQodC10YLRgtC10YAg0LrQvtGA0YDQtdC60YLQvdC+0LPQviDQvdC+0LzQtdGA0LAgKNC00LvRjyDQv9GA0L7Qs9C+0L3QsCDRgtC10YHRgtC+0LIpXG4gICAgICAgIC8vICjQutC+0YDRgNC10LrRgtC90YvQuSDQvdC+0LzQtdGAID0g0LzQsNGB0LrQsCwg0YMg0LrQvtGC0L7RgNC+0Lkg0LLQvNC10YHRgtC+IEkg0YHRgtC+0Y/RgiDQstC10YDQvdGL0LUg0LfQvdCw0YfQtdC90LjRjzpcbiAgICAgICAgLy8gZXhwbDogbWFzazogICAgICAgICs3KDk4NSkwSUktKiotKipcbiAgICAgICAgLy8gICAgICAgY29ycmVjdE1hc2s6ICs3KDk4NSkwNzctKiotKiopXG4gICAgICAgIHNldCBzZXRDb3JyZWN0TWFzayhjb3JyUHJvcDogUHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvcnJlY3ROdW1iZXIgPSBjb3JyUHJvcC5tYXNrO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGdldCBnZXRBbGxDb21wb25lbnRWYWx1ZXMoKSA6IHN0cmluZyB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0IDogc3RyaW5nID0gJyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLl9udW1iZXJTZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9udW1iZXJTZWN0aW9uLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgdGhpcy5fbnVtYmVyU2VjdGlvbi5jaGlsZHJlbltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codHlwZW9mIHRoaXMuX251bWJlclNlY3Rpb24uY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgXG4gICAgICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INGC0LXQutGD0YnRg9GOINC80LDRgdC60YNcbiAgICAgICAgZ2V0IGdldE1hc2soKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQuNC90L/Rg9GC0L7Qsiwg0LrQvtGC0L7RgNGL0LUg0YTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC40LvQsCDQsiBcbiAgICAgICAgLy8gX251bWJlclNlY3Rpb24gKNC/0YDQvtGJ0LUg0LPQvtCy0L7RgNGPIC0g0LrQvtC70LjRh9C10YHRgtCy0L4gSSDQsiDQvNCw0YHQutC1KS5cbiAgICAgICAgZ2V0IGdldElucHV0c0tvbCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnB1dHNLb2w7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgZ2V0IGdldEN1cnJlbnRTdGF0ZSgpIDogc3RyaW5nIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvclNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3JTZWN0aW9uLmlubmVyVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10Lwg0LfQsNC90YfQvdC40Y8g0LjQtyDQuNC90L/QtdGC0L7QsiDQutC+0LzQv9C+0L3QtdGC0LBcbiAgICAgICAgZ2V0IGdldElucHV0c1ZhbHVlcygpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGlucHV0c1ZhbHMgOiBzdHJpbmcgPSAnJztcbiAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c1ZhbHMgKz0gdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIGlucHV0c1ZhbHM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8g0JTQsNC90L3Ri9C1INC/0L7Qu9GPINC90YPQttC90Ysg0YLQvtC70YzQutC+INC00LvRjyDRgtC10YHRgtCwXG4gICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwicGhvbmUtdmFsaWRhdGlvblwiLCBQaG9uZVZhbGlkYXRpb25Db21wb25lbnQpO1xuXG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCc3JykgYXMgUGhvbmVWYWxpZGF0aW9uQ29tcG9uZW50O1xuXG4gICAgaWYgKGEpIHtcbiAgICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgICAgIG1hc2s6ICcrNyg5ODUpMElJLSoqLSoqJyxcbiAgICAgICAgfTtcbiAgICAgICAgYS5zZXRNYXNrID0gcDtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbn0pKClcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==