!function(e){var n={};function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(i,s,function(n){return e[n]}.bind(null,s));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class i extends HTMLElement{constructor(){super(),this._mask="+X(XXX)XXX-XX-XX",this._correctNumber="+7(985)077-**-**",this._inputsMaskArr=[],this._inputsPrevValues=[],this._template='\n            <style>\n                .phone-module {\n                    display: flex;\n                    flex-wrap: wrap;\n\n                    width: 370px;\n                    height: 50px;\n\n                    font-family: Arial, Helvetica, sans-serif;\n                    color: #333333;\n                    font-size: 20px;\n\n                    justify-content: space-around;\n                }\n\n                .phone-module__number-section {\n                    display: flex;\n                    flex-wrap: wrap;\n\n                    width: 100%;\n                    height: 35px;\n\n                    justify-content: space-around;\n                }\n\n                .phone-module__error-section {\n                    width: 100%;\n\n                    text-align: left;\n                    font-size: 14px;\n                    font-family: Arial, Helvetica, sans-serif;\n                    color: #ff1100;\n                }\n\n                .phone-module__number-section-symbol {\n                    text-align: center;\n                    line-height: 32px;\n\n                    width: 10px;\n                    height: 32px;\n\n                    border: none;\n                }\n\n                .phone-module__number-section-cell {\n                    width: 25px;\n                    height: 32px;\n\n                    text-align: center;\n                    line-height: 32px;\n\n                    background-color: #f0f0f0;\n\n                    margin: 2px;\n                    border-radius: 2px;\n                }\n\n                .phone-module__number-section-input,\n                .phone-module__number-section-input-error,\n                .phone-module__error-section-input-success {\n                    text-align: left;\n                    line-height: 32px;\n\n                    width: 17px;\n                    height: 28px;\n\n                    margin: 2px;\n                    padding-left: 6px;\n\n                    font-family: Arial, Helvetica, sans-serif;\n                    color: #333333;\n                    font-size: 20px;\n\n                    background-color: #ffffff;\n\n                    outline: none;\n\n                    border: 1px solid #f0f0f0;\n                    border-radius: 2px;\n\n                    transition: 0.1s linear;\n                }\n\n                .phone-module__number-section-input:hover {\n                    border-color: #c2c2c2;\n                }\n\n                .phone-module__number-section-input-error {\n                    border-color: #ff1100;\n                }\n\n                .phone-module__error-section-input-success {\n                    border-color: #00ff6a;\n                }\n\n                .phone-module__number-section-input:focus {\n                    border: 1px solid #858585;\n                    border-radius: 2px;\n\n                    transition: 0.1s linear;\n                }\n            </style>\n\n            <div class="phone-module">\n                <div class="phone-module__number-section"></div>\n                <div class="phone-module__error-section"></div>\n            </div>\n        ',this.attachShadow({mode:"open"}),this._inputsKol=0,this._inputsArr=[],this._state="none",this.shadowRoot&&(this.shadowRoot.innerHTML=this._template,this._numberSection=this.shadowRoot.querySelector(".phone-module__number-section"),this._errorSection=this.shadowRoot.querySelector(".phone-module__error-section")),this.logic()}performValidation(){this._errorSection.innerHTML="";let e=!1;if(this._errorSection){this._errorSection.textContent="";for(let n=0;n<this._inputsKol;n++)if(this.shadowRoot&&this._inputsArr[n]){if(""===this._inputsArr[n].value)return this._errorSection.textContent="Все поля должны быть заполены",void(this._inputsArr[n].className="phone-module__number-section-input-error");this._inputsArr[n].value!==this._correctNumber[this._inputsMaskArr[n]]&&(e=!0)}if(e){for(let e=0;e<this._inputsKol;e++)this.shadowRoot&&this._inputsArr[e]&&(this._inputsArr[e].className="phone-module__number-section-input-error");this._errorSection.textContent="Неверный номер, попробуйте еще раз"}else for(let e=0;e<this._inputsKol;e++)this.shadowRoot&&this._inputsArr[e]&&(this._inputsArr[e].className="phone-module__error-section-input-success")}}fill(){if(this._numberSection.innerHTML="",this._numberSection){this._numberSection.innerHTML="",this._errorSection.innerHTML="";for(let e=0;e<this._mask.length;e++)switch(this._mask[e]){case"+":case"(":case")":case"-":{const n=document.createElement("div");n.className="phone-module__number-section-symbol",n.innerText=this._mask[e],this._numberSection.appendChild(n);break}case"I":{const n=document.createElement("input");if(n.className="phone-module__number-section-input",n.id=String(this._inputsKol++),n.placeholder="_",this._inputsMaskArr.push(e),this._inputsPrevValues.push(""),this._numberSection.appendChild(n),this.shadowRoot){const e=this.shadowRoot.getElementById(String(this._inputsKol-1));this._inputsArr.push(e)}break}case"*":{const e=document.createElement("div");e.className="phone-module__number-section-cell",e.innerText="•",e.style.fontSize="25px",this._numberSection.appendChild(e);break}case"X":default:{const n=document.createElement("div");n.className="phone-module__number-section-cell",n.innerText=this._mask[e],this._numberSection.appendChild(n);break}}}}inputListener(){new RegExp("^[0-9]+$");for(let e=0;e<this._inputsKol;e++)this._inputsArr[e]&&this._inputsArr[e].addEventListener("input",()=>{this._inputsArr[e].className="phone-module__number-section-input",this._inputsArr[e].value=this._inputsArr[e].value.replace(/[^+\d]/g,""),this._inputsArr[e].value.length>1&&(this._inputsArr[e].value.length>1&&(this._inputsArr[e].value[1]!==this._inputsPrevValues[e]?(this._inputsArr[e].value=this._inputsArr[e].value[1],this._inputsPrevValues[e]=this._inputsArr[e].value[1]):this._inputsArr[e].value=this._inputsArr[e].value[0]),"phone-module__number-section-input-error"===this._inputsArr[e].className&&(this._inputsArr[e].className="phone-module__number-section-input")),Number(this._inputsArr[e].id)<this._inputsKol-1&&this.shadowRoot&&this._inputsArr[e+1].focus()})}enterListener(){this.shadowRoot&&document.addEventListener("keypress",e=>{13===e.keyCode&&this.performValidation()})}logic(){this.fill(),this.inputListener(),this.enterListener()}set setMask(e){this._mask=e.mask,this.logic()}set setCorrectMask(e){this._correctNumber=e.mask}get getMask(){return this._mask}get getInputsKol(){return this._inputsKol}get getCurrentState(){return this._state}get getInputsValues(){let e="";if(this.shadowRoot)for(let n=0;n<this._inputsKol;n++)this._inputsArr[n]&&(e+=this._inputsArr[n].value);return e}}n.PhoneValidationComponent=i,customElements.define("phone-validation",i);const s=document.getElementById("7");if(s){const e={mask:"+7(985)0II-**-**"};s.setMask=e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUGhvbmVWYWxpZGF0aW9uQ29tcG9uZW50IiwiSFRNTEVsZW1lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJzdXBlciIsInRoaXMiLCJfbWFzayIsIl9jb3JyZWN0TnVtYmVyIiwiX2lucHV0c01hc2tBcnIiLCJfaW5wdXRzUHJldlZhbHVlcyIsIl90ZW1wbGF0ZSIsImF0dGFjaFNoYWRvdyIsIl9pbnB1dHNLb2wiLCJfaW5wdXRzQXJyIiwiX3N0YXRlIiwic2hhZG93Um9vdCIsImlubmVySFRNTCIsIl9udW1iZXJTZWN0aW9uIiwicXVlcnlTZWxlY3RvciIsIl9lcnJvclNlY3Rpb24iLCJsb2dpYyIsImVyckNoZWNrIiwidGV4dENvbnRlbnQiLCJjbGFzc05hbWUiLCJsZW5ndGgiLCJjZWxsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJpZCIsIlN0cmluZyIsInBsYWNlaG9sZGVyIiwicHVzaCIsImlucHV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImZvbnRTaXplIiwiUmVnRXhwIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlcGxhY2UiLCJOdW1iZXIiLCJmb2N1cyIsImV2ZW50Iiwia2V5Q29kZSIsInBlcmZvcm1WYWxpZGF0aW9uIiwiZmlsbCIsImlucHV0TGlzdGVuZXIiLCJlbnRlckxpc3RlbmVyIiwic2V0TWFzayIsInByb3AiLCJtYXNrIiwic2V0Q29ycmVjdE1hc2siLCJjb3JyUHJvcCIsImdldE1hc2siLCJnZXRJbnB1dHNLb2wiLCJnZXRDdXJyZW50U3RhdGUiLCJnZXRJbnB1dHNWYWx1ZXMiLCJpbnB1dHNWYWxzIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJhIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFB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bUJBQW9CM0QsR0FDMUMsTUFBTTRELEVBQUluQyxTQUFTUyxlQUFlLEtBQ2xDLEdBQUkwQixFQUFHLENBQ0gsTUFBTTlELEVBQUksQ0FDTm9ELEtBQU0sb0JBRVZVLEVBQUVaLFFBQVVsRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBQcm9wcyB9IGZyb20gJy4vbWFzayc7XG5cbmV4cG9ydCBjbGFzcyBQaG9uZVZhbGlkYXRpb25Db21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgXG4gICAgLy8g0KjQsNCx0LvQvtC9INC60L7QvNC/0L7QvdC10L3RgtCwXG4gICAgcHJpdmF0ZSBfdGVtcGxhdGUgOiBzdHJpbmc7XG5cbiAgICAvLyDQktGF0L7QtNC90L7QtSDQt9C90LDRh9C90LjQtVxuICAgIHByaXZhdGUgX21hc2sgOiBzdHJpbmcgPSAnK1goWFhYKVhYWC1YWC1YWCc7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vINCU0LDQvdC90YvQtSDQv9C+0LvRjyDQvdGD0LbQvdGLINGC0L7Qu9GM0LrQviDQtNC70Y8g0YLQtdGB0YLQsFxuICAgIHByaXZhdGUgX2NvcnJlY3ROdW1iZXIgOiBzdHJpbmcgPSAnKzcoOTg1KTA3Ny0qKi0qKic7XG4gICAgcHJpdmF0ZSBfaW5wdXRzTWFza0FyciA6IG51bWJlcltdID0gW107XG4gICAgcHJpdmF0ZSBfaW5wdXRzUHJldlZhbHVlcyA6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gRGl2LCDQsiDQutC+0YLQvtGA0L7QvCDQv9C+0LzQtdGJ0LDQtdGC0YHRjyDQvdC+0LzQtdGAINC4INC40L3Qv9GD0YLRi1xuICAgIHByaXZhdGUgX251bWJlclNlY3Rpb24hIDogSFRNTERpdkVsZW1lbnQ7XG4gICAgLy8gRGl2LCDQsiDQutC+0YLQvtGA0L7QvCDQv9GA0LjQvdGC0LjRgtGB0Y8g0L7RiNC40LHQutCwXG4gICAgcHJpdmF0ZSBfZXJyb3JTZWN0aW9uISA6IEhUTUxEaXZFbGVtZW50O1xuXG4gICAgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0LjQvdC/0YPRgtC+0LJcbiAgICBwcml2YXRlIF9pbnB1dHNLb2wgOiBudW1iZXI7XG4gICAgLy8g0JzQsNGB0YHQuNCyINC40L3Qv9GD0YLQvtCyXG4gICAgcHJpdmF0ZSBfaW5wdXRzQXJyIDogSFRNTElucHV0RWxlbWVudFtdO1xuXG4gICAgLy8g0KLQtdC60YPRidC10LUg0YHQvtGB0YLQvtGP0L3QuNC1INC60L7QvNC/0L7QvdC10L3RgtCwXG4gICAgcHJpdmF0ZSBfc3RhdGUgOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvLyDQl9Cw0LTQsNC10Lwg0YjQsNCx0LvQvtC9LCDQsiDQutC+0YLQvtGA0YvQuSDQsdGD0LTQtdGCINC/0L7QvNC10YnQtdC9INCy0LDQu9C40LTQuNGA0YPQtdC80YvQuSDQvdC+0LzQtdGAXG4gICAgICAgIC8vINCU0LvRjyDQv9GA0L7RgdGC0L7RgtGLINGD0LrQsNC20LXQvCDRgdGC0LjQu9C4INCy0L3Rg9GC0YDQuCDRiNCw0LHQu9C+0L3QsFxuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IGBcbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzNzBweDtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzMzMzMzMztcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XG5cbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmYxMTAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5waG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLXN5bWJvbCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzJweDtcblxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24tY2VsbCB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMzJweDtcblxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMnB4O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQsXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3IsXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbi1pbnB1dC1zdWNjZXNzIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE3cHg7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjhweDtcblxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDJweDtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMzMzMzMzO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG5cbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcblxuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmMGYwZjA7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjFzIGxpbmVhcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dDpob3ZlciB7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2MyYzJjMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dC1lcnJvciB7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2ZmMTEwMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucGhvbmUtbW9kdWxlX19lcnJvci1zZWN0aW9uLWlucHV0LXN1Y2Nlc3Mge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICMwMGZmNmE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnBob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQ6Zm9jdXMge1xuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjODU4NTg1O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBsaW5lYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9zdHlsZT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW1vZHVsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvblwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcblxuICAgICAgICB0aGlzLl9pbnB1dHNLb2wgPSAwO1xuICAgICAgICB0aGlzLl9pbnB1dHNBcnIgPSBbXTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnbm9uZSc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmlubmVySFRNTCA9IHRoaXMuX3RlbXBsYXRlO1xuICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbiA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcucGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fZXJyb3JTZWN0aW9uID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5waG9uZS1tb2R1bGVfX2Vycm9yLXNlY3Rpb24nKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9naWMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGVyZm9ybVZhbGlkYXRpb24oKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24uaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgbGV0IGVyckNoZWNrIDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yU2VjdGlvbikge1xuXG4gICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24udGV4dENvbnRlbnQgPSAn0JLRgdC1INC/0L7Qu9GPINC00L7Qu9C20L3RiyDQsdGL0YLRjCDQt9Cw0L/QvtC70LXQvdGLJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUgIT09IHRoaXMuX2NvcnJlY3ROdW1iZXJbdGhpcy5faW5wdXRzTWFza0FycltpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJDaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yU2VjdGlvbi50ZXh0Q29udGVudCA9ICfQndC10LLQtdGA0L3Ri9C5INC90L7QvNC10YAsINC/0L7Qv9GA0L7QsdGD0LnRgtC1INC10YnQtSDRgNCw0LcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fZXJyb3Itc2VjdGlvbi1pbnB1dC1zdWNjZXNzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vINCk0YPQvdC60YbQuNGPINC30LDQv9C+0LvQvdC10L3QuNGPINGB0LXQutGG0LjQuCDQvdC+0LzQtdGA0LAg0YbQuNGE0YDQsNC80Lgg0L3QvtC80LXRgNCwINC4INC40L3Qv9GD0YLQsNC80LhcbiAgICBwcml2YXRlIGZpbGwoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLl9udW1iZXJTZWN0aW9uKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX251bWJlclNlY3Rpb24uaW5uZXJIVE1MID0gYGA7XG4gICAgICAgICAgICB0aGlzLl9lcnJvclNlY3Rpb24uaW5uZXJIVE1MID0gYGA7XG5cbiAgICAgICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRj9GH0LXQudC60Lgg0YEg0YHQuNC80LLQvtC70LDQvNC4IC8g0LjQvdC/0YPRgtGLINC00LvRjyDQstCw0LvQuNC00LDRhtC40LhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbWFzay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fbWFza1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnKCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJyknOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICctJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1zeW1ib2wnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lclRleHQgPSB0aGlzLl9tYXNrW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0knOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pZCA9IFN0cmluZyh0aGlzLl9pbnB1dHNLb2wrKyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnBsYWNlaG9sZGVyID0gJ18nO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzTWFza0Fyci5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzUHJldlZhbHVlcy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX251bWJlclNlY3Rpb24uYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgOiBIVE1MSW5wdXRFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFN0cmluZyh0aGlzLl9pbnB1dHNLb2wgLSAxKSkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnIucHVzaChpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICcqJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1jZWxsJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuaW5uZXJUZXh0ID0gJ+KAoic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLmZvbnRTaXplID0gJzI1cHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1gnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdwaG9uZS1tb2R1bGVfX251bWJlci1zZWN0aW9uLWNlbGwnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5pbm5lclRleHQgPSB0aGlzLl9tYXNrW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbnVtYmVyU2VjdGlvbi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24tY2VsbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVyVGV4dCA9IHRoaXMuX21hc2tbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9udW1iZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDQn9C+0LTQv9C40YHRi9Cy0LDQtdC80YHRjyDQvdCwINGB0L7QsdGL0YLQuNC1INC40LfQvNC10L3QtdC90LjRjyDQt9C90LDRh9C10L3QuNGPINC40L3Qv9GD0YLQsCDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INCy0LLQvtC00LjQvNGL0YVcbiAgICAvLyDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvCDQtNCw0L3QvdGL0YVcbiAgICBwcml2YXRlIGlucHV0TGlzdGVuZXIoKSA6IHZvaWQge1xuICAgICAgICBjb25zdCByZyA9IG5ldyBSZWdFeHAoJ15bMC05XSskJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbnB1dHNLb2w7IGkrKykge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpXS5jbGFzc05hbWUgPSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dCc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INCy0LLQvtC00LjQvNC+0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lwg0LfQvdCw0YfQvdC40LUsINGP0LLQu9GP0LXRgtGB0Y8g0LvQuCDQvtC90L4g0YfQuNGB0LvQvtC8XG4gICAgICAgICAgICAgICAgICAgIC8vICjQvdC1INC40YHQv9C+0LvRjNC30YPRjiBpc05hTiDQvdCwIHBhcnNlSW50LCDRgtC6INC/0L7RjNC+0LLQsNGC0LXQu9GMINC80L7QttC10YIg0LLQstC10YHRgtC4INC30L3QsNGH0LXQvdC40LVcbiAgICAgICAgICAgICAgICAgICAgLy8g0LrQsNC6INCyINC90LDRh9Cw0LvQviDQuNC80L/Rg9GC0LAsINGC0LDQuiDQuCDQsiDQutC+0L3QtdGGKVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZS5yZXBsYWNlKC9bXitcXGRdL2csICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0udmFsdWVbMV0gIT09IHRoaXMuX2lucHV0c1ByZXZWYWx1ZXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlID0gdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNQcmV2VmFsdWVzW2ldID0gdGhpcy5faW5wdXRzQXJyW2ldLnZhbHVlWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpXS52YWx1ZSA9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID09PSAncGhvbmUtbW9kdWxlX19udW1iZXItc2VjdGlvbi1pbnB1dC1lcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dHNBcnJbaV0uY2xhc3NOYW1lID0gJ3Bob25lLW1vZHVsZV9fbnVtYmVyLXNlY3Rpb24taW5wdXQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgoTnVtYmVyKHRoaXMuX2lucHV0c0FycltpXS5pZCkpIDwgdGhpcy5faW5wdXRzS29sIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0c0FycltpICsgMV0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g0J/QvtC00L/QuNGB0YvQstCw0LXQvNGB0Y8g0L3QsCDRgdC+0LHRi9GC0LjQtSDQvdCw0LbQsNGC0LjRjyBlbnRlciDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINCy0YvRhdC+0LbQvdGL0LzQuCDQtNCw0L3QvdGL0LzQuFxuICAgIHByaXZhdGUgZW50ZXJMaXN0ZW5lcigpIDogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybVZhbGlkYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vINCe0LHRidCw0Y8g0YTRg9C90LrRhtC40Y8g0YDQsNCx0L7RgtGLINC60L7QvNC/0L7QvdC10L3RgtCwXG4gICAgcHJpdmF0ZSBsb2dpYygpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlsbCgpO1xuICAgICAgICB0aGlzLmlucHV0TGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5lbnRlckxpc3RlbmVyKCk7XG4gICAgfVxuICAgIFxuICAgIC8vINCh0LXRgtGC0LXRgCDQvNCw0YHQutC4XG4gICAgc2V0IHNldE1hc2socHJvcCA6IFByb3BzKSB7XG4gICAgICAgIHRoaXMuX21hc2sgPSBwcm9wLm1hc2s7XG4gICAgICAgIHRoaXMubG9naWMoKTtcbiAgICB9XG5cbiAgICAvLyDQodC10YLRgtC10YAg0LrQvtGA0YDQtdC60YLQvdC+0LPQviDQvdC+0LzQtdGA0LAgKNC00LvRjyDQv9GA0L7Qs9C+0L3QsCDRgtC10YHRgtC+0LIpXG4gICAgLy8gKNC60L7RgNGA0LXQutGC0L3Ri9C5INC90L7QvNC10YAgPSDQvNCw0YHQutCwLCDRgyDQutC+0YLQvtGA0L7QuSDQstC80LXRgdGC0L4gSSDRgdGC0L7Rj9GCINCy0LXRgNC90YvQtSDQt9C90LDRh9C10L3QuNGPOlxuICAgIC8vIGV4cGw6IG1hc2s6ICAgICAgICArNyg5ODUpMElJLSoqLSoqXG4gICAgLy8gICAgICAgY29ycmVjdE1hc2s6ICs3KDk4NSkwNzctKiotKiopXG4gICAgc2V0IHNldENvcnJlY3RNYXNrKGNvcnJQcm9wOiBQcm9wcykge1xuICAgICAgICB0aGlzLl9jb3JyZWN0TnVtYmVyID0gY29yclByb3AubWFzaztcbiAgICB9XG5cbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDRgtC10LrRg9GJ0YPRjiDQvNCw0YHQutGDXG4gICAgZ2V0IGdldE1hc2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgIH1cblxuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INC40L3Qv9GD0YLQvtCyLCDQutC+0YLQvtGA0YvQtSDRhNGD0L3QutGG0LjRjyDQtNC+0LHQsNCy0LjQu9CwINCyIFxuICAgIC8vIF9udW1iZXJTZWN0aW9uICjQv9GA0L7RidC1INCz0L7QstC+0YDRjyAtINC60L7Qu9C40YfQtdGB0YLQstC+IEkg0LIg0LzQsNGB0LrQtSkuXG4gICAgZ2V0IGdldElucHV0c0tvbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0c0tvbDtcbiAgICB9XG5cbiAgICBnZXQgZ2V0Q3VycmVudFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuXG4gICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10Lwg0LfQsNC90YfQvdC40Y8g0LjQtyDQuNC90L/QtdGC0L7QsiDQutC+0LzQv9C+0L3QtdGC0LBcbiAgICBnZXQgZ2V0SW5wdXRzVmFsdWVzKCkge1xuICAgICAgICBcbiAgICAgICAgbGV0IGlucHV0c1ZhbHMgOiBzdHJpbmcgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lucHV0c0tvbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lucHV0c0FycltpXSkge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dHNWYWxzICs9IHRoaXMuX2lucHV0c0FycltpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5wdXRzVmFscztcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyDQlNCw0L3QvdGL0LUg0L/QvtC70Y8g0L3Rg9C20L3RiyDRgtC+0LvRjNC60L4g0LTQu9GPINGC0LXRgdGC0LBcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcInBob25lLXZhbGlkYXRpb25cIiwgUGhvbmVWYWxpZGF0aW9uQ29tcG9uZW50KTtcbmNvbnN0IGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnNycpIGFzIFBob25lVmFsaWRhdGlvbkNvbXBvbmVudDtcbmlmIChhKSB7XG4gICAgY29uc3QgcCA9IHtcbiAgICAgICAgbWFzazogJys3KDk4NSkwSUktKiotKionLFxuICAgIH07XG4gICAgYS5zZXRNYXNrID0gcDtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iXSwic291cmNlUm9vdCI6IiJ9